<div class="home-container">
  <h1>{{ 'home.welcome' | translate }}</h1>
  
  <div class="dashboard-grid">
    <!-- Characters Box -->
    <div class="dashboard-box">
      <div class="box-header">
        <button class="btn btn-link" (click)="navigateToCharacters()">{{ 'common.viewAll' | translate }} →</button>
      </div>
      
      <div *ngIf="charactersLoading" class="loading">{{ 'home.loadingCharacters' | translate }}</div>
      <div *ngIf="charactersError" class="error-message">{{ charactersError }}</div>
      
      <div *ngIf="!charactersLoading && !charactersError" class="box-content">
        <div *ngIf="characters.length === 0" class="empty-state">
          <p>{{ 'home.noCharacters' | translate }}</p>
          <button class="btn btn-primary" (click)="navigateToCharacters()">{{ 'character.createCharacter' | translate }}</button>
        </div>
        
        <div *ngIf="characters.length > 0" class="characters-list">
          <app-character-card 
            *ngFor="let character of characters" 
            [character]="character"
            [showExpandButton]="false"
            [compact]="true"
            (characterClick)="navigateToCharacter($event)">
          </app-character-card>
        </div>
      </div>
    </div>

    <!-- Game Sessions Box -->
    <div class="dashboard-box">
      <div class="box-header">
        <h2>{{ 'home.gameSessions' | translate }}</h2>
        <button class="btn btn-link" (click)="navigateToSessions()">{{ 'common.viewAll' | translate }} →</button>
      </div>
      
      <div *ngIf="sessionsLoading" class="loading">{{ 'home.loadingSessions' | translate }}</div>
      <div *ngIf="sessionsError" class="error-message">{{ sessionsError }}</div>
      
      <div *ngIf="!sessionsLoading && !sessionsError" class="box-content">
        <div *ngIf="sessions.length === 0" class="empty-state">
          <p>{{ 'home.noSessions' | translate }}</p>
          <button class="btn btn-primary" (click)="navigateToSessions()">{{ 'session.createSession' | translate }}</button>
        </div>
        
        <ul *ngIf="sessions.length > 0" class="item-list">
          <li *ngFor="let session of sessions" class="item-card" (click)="navigateToSession(session.id!)">
            <div class="item-info">
              <h3>{{ session.title }}</h3>
              <p *ngIf="session.description" class="item-description">{{ session.description }}</p>
              <p class="item-meta" *ngIf="session.gameMaster">
                <strong>{{ 'session.gameMaster' | translate }}:</strong> {{ session.gameMaster.displayName }}
              </p>
            </div>
            <div class="item-stats" *ngIf="session.characters && session.characters.length > 0">
              <span class="stat">
                <strong>{{ session.characters.length }}</strong> {{ 'home.character' | translate }}
              </span>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>

